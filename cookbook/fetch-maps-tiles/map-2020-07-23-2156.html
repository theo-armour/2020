<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Basic HTML template">
	<meta name="keywords" content="JavaScript,GitHub,FOSS">
	<meta name=version content="2020-07-23">
	<!-- Copyright 2020 Theo Armour. MIT License -->

	<title></title>

	<style>
		:root {
			font: 100% monospace;
		}

		body {
			margin: 0;
			overflow: hidden;
		}

		nav {
			background-color: aliceblue;
			border-radius: 1rem;
			box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
			margin: 1rem;
			padding: 1rem;
			position: absolute;
		}
	</style>
</head>

<body>

	<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r118/build/three.min.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r118/examples/js/controls/OrbitControls.js"></script>

	<script src="../../lib/thr-three/thr-threejs-2020-07-17.js"></script>

	<script src="map-2020-07-23-2156.js"></script>

	<nav>

		<h1><a href="">map 2020-07-23 2156</a></h1>

		<details>

			<summary>bitmaps</summary>

			<div id=divBitmaps></div>

		</details>

		<details>

			<summary>heightmaps</summary>

			<div id=divHeightMaps></div>

		</details>

		<div> 

			<p>
				<a href='#"latitude":51.4769,"longitude":0.0005,"zoom":15' >Greanwich Observatory</a>
			</p>

			<p><a href='#"latitude":40.786944,"longitude":-119.204444,"zoom":12'>Burning Man</a></p>

			<p><a href='#"latitude":27.6874,"longitude":86.7322,"zoom":12'>Tenzing Hillary Airport</a></p>

			<p><a href='#"latitude":-17.5388,"longitude":-149.8295,"zoom":13'>Moorea</a></p>
		</div>
	</nav>

	<script>

		let mesh, geometry, material;

		init()

		function init() {

			THR.init();
			THR.renderer.outputEncoding = THREE.LinearEncoding;


			THR.animate();

			// THR.group = THR.setSceneNew();

			// THR.axesHelper.visible = false;

			THR.addGround();

			THR.addLights();


			// const geometry = new THREE.BoxGeometry( 1, 1, 1 );
			// const material = new THREE.MeshNormalMaterial();
			// const mesh = new THREE.Mesh( geometry, material );
			// mesh.castShadow = true;

			// THR.group.add( mesh );

			window.addEventListener( "hashchange", onHashChange )

			onHashChange();

		}



		function onHashChange() {

			const str = decodeURI( location.hash.slice( 1 ) );

			const json = JSON.parse( `{ ${ str } }` )
			//console.log( "json", json );

			MAP.latitude = json.latitude ? json.latitude : MAP.latitude;
			MAP.longitude = json.longitude ? json.longitude : MAP.longitude;
			MAP.zoom = json.zoom ? json.zoom : MAP.zoom;

			MAP.init();

		}

	</script>

</body>

</html>